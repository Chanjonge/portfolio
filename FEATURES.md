# 시스템 기능 상세 설명

## 📋 목차

1. [다단계 양식 시스템](#다단계-양식-시스템)
2. [관리자 시스템](#관리자-시스템)
3. [보안 및 인증](#보안-및-인증)
4. [디자인 특징](#디자인-특징)

---

## 다단계 양식 시스템

### ✨ 주요 특징

#### 1. 단계별 진행

-   **최소 5단계** 이상 지원 (제한 없음)
-   단계별로 여러 질문 포함 가능
-   시각적 진행률 표시 (프로그레스 바)
-   이전/다음 버튼으로 단계 이동

#### 2. 실시간 유효성 검증

```
사용자 입력 → 최소 글자 수 검증 → 조건 충족 확인 → 다음 단계 허용
```

**검증 조건:**

-   ✅ 필수 항목 입력 확인
-   ✅ 최소 글자 수 충족 확인
-   ✅ 실시간 글자 수 카운터
-   ✅ 에러 메시지 표시

#### 3. 사용자 경험 (UX)

**진행률 표시**

```
┌─────────────────────────────────────────┐
│ 단계 3 / 5              60% 완료          │
│ ████████████░░░░░░░░░░░░░░░░░░░░░░░░    │
└─────────────────────────────────────────┘
```

**질문 카드**

```
┌─────────────────────────────────────────┐
│ 지원 동기를 작성해주세요 *               │
│ 왜 지원하게 되었는지 구체적으로...       │
│ 최소 100자 이상                          │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ [사용자 입력 영역]                   │ │
│ │                                     │ │
│ │                                     │ │
│ └─────────────────────────────────────┘ │
│                        45 / 100자      │
│ [이전]                        [다음] → │
└─────────────────────────────────────────┘
```

#### 4. 데이터 저장

-   단계별 입력 내용 자동 저장 (로컬 상태)
-   최종 제출 시 데이터베이스 저장
-   JSON 형식으로 응답 저장
-   제출 시간 및 IP 주소 기록

---

## 관리자 시스템

### 👑 최고 관리자 (SUPER_ADMIN)

#### 1. 사용자 관리

```
┌──────────────────────────────────────────┐
│  사용자 관리                              │
│  ────────────────────────────────────────│
│                          [+ 새 사용자 생성]│
│                                          │
│  ┌────────────────────────────────────┐  │
│  │ 이름    이메일           역할    생성일│  │
│  │ ──────  ──────────────  ─────  ─────│  │
│  │ 홍길동  admin@ex.com   최고관리자    │  │
│  │ 김철수  user@ex.com    관리자        │  │
│  └────────────────────────────────────┘  │
└──────────────────────────────────────────┘
```

**기능:**

-   ✅ 새 관리자 계정 생성
-   ✅ 이메일, 비밀번호, 이름, 역할 설정
-   ✅ 생성된 계정 목록 조회
-   ✅ 계정 정보 확인

#### 2. 질문 관리

```
┌──────────────────────────────────────────┐
│  질문 관리                                │
│  ────────────────────────────────────────│
│                            [+ 새 질문 추가]│
│                                          │
│  ▼ 단계 1                                │
│  ┌────────────────────────────────────┐  │
│  │ 자기소개를 해주세요 *                │  │
│  │ 최소 50자 | 순서: 0                  │  │
│  │                      [수정] [삭제]   │  │
│  └────────────────────────────────────┘  │
│                                          │
│  ▼ 단계 2                                │
│  ┌────────────────────────────────────┐  │
│  │ 관련 경험을 설명해주세요 *           │  │
│  │ 최소 150자 | 순서: 0                 │  │
│  │                      [수정] [삭제]   │  │
│  └────────────────────────────────────┘  │
└──────────────────────────────────────────┘
```

**기능:**

-   ✅ 질문 추가/수정/삭제
-   ✅ 단계 번호 설정
-   ✅ 순서 조정
-   ✅ 최소 글자 수 설정
-   ✅ 필수/선택 항목 설정
-   ✅ 질문 설명 추가
-   ✅ 실시간 미리보기

**질문 생성 폼:**

```
┌──────────────────────────────────────────┐
│  새 질문 추가                             │
│  ────────────────────────────────────────│
│  단계: [1 ]    순서: [0 ]                │
│                                          │
│  질문 제목:                               │
│  [____________________________________]  │
│                                          │
│  설명 (선택):                             │
│  [____________________________________]  │
│  [____________________________________]  │
│                                          │
│  최소 글자 수: [10]                       │
│                                          │
│  ☑ 필수 항목                             │
│                                          │
│            [취소]        [생성]          │
└──────────────────────────────────────────┘
```

### 👤 일반 관리자 (ADMIN)

#### 1. 대시보드

```
┌──────────────────────────────────────────┐
│  관리자 대시보드              [로그아웃]  │
│  ────────────────────────────────────────│
│                                          │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐   │
│  │   45    │ │   18    │ │    5    │   │
│  │ 전체제출 │ │ 전체질문 │ │  단계수  │   │
│  └─────────┘ └─────────┘ └─────────┘   │
│                                          │
│  제출 내역                                │
│  ────────────────────────────────────────│
│  ┌────────────────────────────────────┐  │
│  │ 제출 ID: abc123...                  │  │
│  │ 제출일: 2025-10-17 14:30           │  │
│  │ IP: 192.168.1.1      [자세히 보기] │  │
│  └────────────────────────────────────┘  │
│  ┌────────────────────────────────────┐  │
│  │ 제출 ID: def456...                  │  │
│  │ 제출일: 2025-10-17 13:15           │  │
│  │ IP: 192.168.1.2      [자세히 보기] │  │
│  └────────────────────────────────────┘  │
└──────────────────────────────────────────┘
```

**기능:**

-   ✅ 통계 요약 (제출 수, 질문 수, 단계 수)
-   ✅ 제출 내역 목록
-   ✅ 제출 상세 보기
-   ✅ 제출 시간 및 IP 주소 확인

#### 2. 제출 상세 보기

```
┌──────────────────────────────────────────┐
│  제출 상세 내역                      [X]  │
│  ────────────────────────────────────────│
│  제출 ID: abc123def456...                │
│  제출일시: 2025-10-17 14:30:25           │
│  IP 주소: 192.168.1.1                    │
│                                          │
│  답변 내용                                │
│  ────────────────────────────────────────│
│                                          │
│  Q: 자기소개를 해주세요                   │
│  ┌────────────────────────────────────┐  │
│  │ 안녕하세요. 저는 3년차 개발자...     │  │
│  │ [사용자의 전체 답변 내용]           │  │
│  └────────────────────────────────────┘  │
│                                          │
│  Q: 지원 동기를 작성해주세요              │
│  ┌────────────────────────────────────┐  │
│  │ 귀사의 기술 스택과 문화에...        │  │
│  │ [사용자의 전체 답변 내용]           │  │
│  └────────────────────────────────────┘  │
└──────────────────────────────────────────┘
```

---

## 보안 및 인증

### 🔐 인증 시스템

#### JWT (JSON Web Token)

```
로그인 → 이메일/비밀번호 검증 → JWT 생성 (7일 유효) → 클라이언트 저장
```

**토큰 구조:**

```javascript
{
  userId: "user-id",
  role: "SUPER_ADMIN" | "ADMIN",
  exp: 1234567890  // 만료 시간
}
```

#### 권한 검증 흐름

```
API 요청 → Authorization Header 확인
         ↓
    JWT 토큰 검증
         ↓
    역할(Role) 확인
         ↓
    권한 있음 → 요청 처리
    권한 없음 → 403 Error
```

### 🛡 보안 기능

1. **비밀번호 보호**

    - bcrypt 해싱 (12 rounds)
    - Salt 자동 생성
    - 원본 비밀번호 저장 안 함

2. **토큰 관리**

    - 7일 자동 만료
    - HTTPS 전송 권장
    - 클라이언트 localStorage 저장

3. **API 보호**

    - 모든 관리자 API: 토큰 필수
    - 역할 기반 접근 제어
    - 최고 관리자 전용 API 분리

4. **데이터 보호**
    - SQL Injection 방지 (Prisma ORM)
    - XSS 방지 (React 기본 보호)
    - CSRF 대응 고려

---

## 디자인 특징

### 🎨 블랙 & 화이트 테마

#### 색상 팔레트

```
■ Black (#000000)    - 주요 텍스트, 버튼
□ White (#FFFFFF)    - 배경, 카드
▓ Gray-50 (#FAFAFA)  - 연한 배경
▓ Gray-100 (#F5F5F5) - 테이블 헤더
▓ Gray-200 (#E5E5E5) - 구분선
▓ Gray-600 (#525252) - 보조 텍스트
```

#### 디자인 원칙

1. **미니멀리즘**

    - 불필요한 요소 제거
    - 여백 활용
    - 명확한 계층 구조

2. **명확성**

    - 진하게 굵은 테두리 (2px)
    - 명확한 버튼 상태
    - 직관적인 아이콘 사용

3. **일관성**
    - 동일한 간격 시스템
    - 통일된 버튼 스타일
    - 일관된 타이포그래피

#### UI 컴포넌트 스타일

**버튼**

```
Primary:   [검은 배경 + 흰 텍스트]
Secondary: [흰 배경 + 검은 테두리 + 검은 텍스트]
Disabled:  [회색 배경 + 밝은 회색 텍스트]
```

**입력 필드**

```
Normal:  2px 회색 테두리
Focus:   2px 검은 테두리 + 링 효과
Error:   2px 빨간 테두리
```

**카드**

```
┌────────────────────────────────┐
│  2px 검은 테두리                │
│  흰 배경                        │
│  그림자 효과                    │
└────────────────────────────────┘
```

### 📱 반응형 디자인

#### 브레이크포인트

-   **Mobile**: < 640px
-   **Tablet**: 640px - 1024px
-   **Desktop**: > 1024px

#### 적응형 레이아웃

```
Mobile:     단일 컬럼
Tablet:     2컬럼 그리드
Desktop:    3컬럼 그리드 + 넓은 여백
```

---

## 🚀 성능 최적화

1. **Next.js App Router**

    - 서버 컴포넌트 활용
    - 자동 코드 스플리팅
    - 이미지 최적화

2. **데이터베이스**

    - Prisma 쿼리 최적화
    - 인덱싱 (email unique)
    - 효율적인 관계 설정

3. **클라이언트**
    - React useState/useEffect
    - 불필요한 리렌더링 방지
    - 로딩 상태 표시

---

## 📊 사용 통계 (대시보드)

### 제공 정보

-   ✅ 총 제출 수
-   ✅ 총 질문 수
-   ✅ 단계 수
-   ✅ 최근 제출 시간
-   ✅ IP 주소별 제출 추적

### 확장 가능한 기능

-   날짜별 제출 통계
-   질문별 평균 답변 길이
-   미완성 양식 추적
-   제출 완료율

---

이 시스템은 확장 가능하고 유지보수가 쉬운 구조로 설계되었습니다! 🎉
