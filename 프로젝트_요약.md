# 📋 프로젝트 요약

## 🎯 프로젝트 개요

**멀티 스텝 폼 시스템** - 구글폼과 유사한 다단계 양식 관리 시스템

### 핵심 요구사항 ✅

-   ✅ 웹페이지 내 구글폼 스타일 양식
-   ✅ 단계별 양식 (5단계 이상)
-   ✅ 최소 글자 수 검증
-   ✅ 다음 단계 진행 조건 확인
-   ✅ 데이터베이스 저장
-   ✅ 회원가입 기능 (관리자용)
-   ✅ 외부인 회원가입 차단
-   ✅ 최고관리자 페이지
-   ✅ 최고관리자/일반관리자 권한 분리
-   ✅ 질문지 수정 기능
-   ✅ 깔끔한 블랙&화이트 디자인

---

## 🏗 시스템 구조

### 3계층 권한 시스템

```
┌─────────────────────────────────────────┐
│         최고 관리자 (SUPER_ADMIN)        │
│  • 관리자 계정 생성                      │
│  • 질문 추가/수정/삭제                   │
│  • 제출 내역 조회                        │
└─────────────┬───────────────────────────┘
              │
    ┌─────────┴─────────┐
    │                   │
┌───▼──────────┐  ┌─────▼────────────────┐
│ 일반 관리자   │  │   일반 사용자        │
│  (ADMIN)     │  │                      │
│ • 제출 내역   │  │ • 양식 작성          │
│   조회       │  │ • 양식 제출          │
└──────────────┘  └──────────────────────┘
```

---

## 📁 파일 구조

```
기초자료/
├── 📄 설치 및 사용 가이드
│   ├── README.md              ⭐ 시작은 여기서
│   ├── 시작하기.md            ⭐ 빠른 설치 가이드
│   ├── SETUP.md
│   ├── TROUBLESHOOTING.md    🔧 문제 해결
│   ├── FEATURES.md           📖 기능 상세
│   └── PROJECT_STRUCTURE.md  🗂 구조 설명
│
├── 🎨 애플리케이션 코드
│   ├── app/                  # Next.js 페이지
│   │   ├── page.tsx         # 메인 홈
│   │   ├── form/            # 양식 작성
│   │   ├── admin/           # 관리자
│   │   │   ├── login/
│   │   │   ├── dashboard/   # 일반 관리자
│   │   │   └── super/       # 최고 관리자
│   │   └── api/             # API 엔드포인트
│   │
│   ├── components/           # React 컴포넌트
│   │   └── MultiStepForm.tsx
│   │
│   └── lib/                 # 유틸리티
│       ├── auth.ts          # JWT, 비밀번호
│       └── prisma.ts        # DB 클라이언트
│
└── 🗄 데이터베이스
    └── prisma/
        ├── schema.prisma    # DB 스키마
        └── seed.ts          # 초기 데이터
```

---

## 🚀 빠른 시작 (4단계)

```bash
# 1단계: 의존성 설치
npm install

# 2단계: 데이터베이스 설정
npx prisma generate
npx prisma db push

# 3단계: 초기 데이터 생성
npm run seed

# 4단계: 서버 실행
npm run dev
```

**완료!** http://localhost:3000 으로 접속하세요.

---

## 🔐 기본 계정

```
이메일: admin@example.com
비밀번호: admin123
역할: 최고 관리자
```

⚠️ **프로덕션에서는 반드시 비밀번호를 변경하세요!**

---

## 📱 주요 페이지

| 페이지        | URL                | 권한        | 설명             |
| ------------- | ------------------ | ----------- | ---------------- |
| 메인          | `/`                | 공개        | 랜딩 페이지      |
| 양식 작성     | `/form`            | 공개        | 다단계 양식      |
| 관리자 로그인 | `/admin/login`     | 공개        | 로그인           |
| 일반 대시보드 | `/admin/dashboard` | ADMIN       | 제출 내역        |
| 최고관리자    | `/admin/super`     | SUPER_ADMIN | 질문/사용자 관리 |

---

## ✨ 주요 기능

### 1️⃣ 다단계 양식

-   **단계별 진행**: 5단계 이상 지원
-   **진행률 표시**: 실시간 프로그레스 바
-   **유효성 검증**: 최소 글자 수 체크
-   **이전/다음 이동**: 자유로운 단계 이동

### 2️⃣ 최고 관리자 기능

-   **사용자 관리**
    -   관리자 계정 생성
    -   이메일, 비밀번호, 역할 설정
    -   계정 목록 조회
-   **질문 관리**
    -   질문 추가/수정/삭제
    -   단계 및 순서 설정
    -   최소 글자 수 설정
    -   필수/선택 항목 설정

### 3️⃣ 일반 관리자 기능

-   **대시보드**
    -   통계 요약 (제출 수, 질문 수, 단계 수)
    -   제출 내역 목록
    -   제출 상세 보기
    -   IP 주소 추적

### 4️⃣ 보안

-   **JWT 인증**: 7일 유효 토큰
-   **비밀번호 보호**: bcrypt 해싱
-   **권한 검증**: 역할 기반 접근 제어
-   **외부 접근 차단**: 관리자만 계정 생성

---

## 🎨 디자인 시스템

### 색상

-   **Black (#000000)**: 주요 요소
-   **White (#FFFFFF)**: 배경
-   **Gray Scale**: 보조 요소

### 스타일

-   **미니멀**: 깔끔하고 단순한 디자인
-   **명확성**: 진한 테두리 (2px)
-   **일관성**: 통일된 컴포넌트
-   **반응형**: 모바일/태블릿/데스크톱

---

## 🛠 기술 스택

| 분야                | 기술                             |
| ------------------- | -------------------------------- |
| **Frontend**        | Next.js 14, React 18, TypeScript |
| **Styling**         | Tailwind CSS                     |
| **Database**        | SQLite (개발), Prisma ORM        |
| **Authentication**  | JWT, bcryptjs                    |
| **Package Manager** | npm                              |

---

## 📊 데이터베이스 스키마

### User (사용자)

```typescript
{
  id: string
  email: string (unique)
  password: string (hashed)
  name: string
  role: 'SUPER_ADMIN' | 'ADMIN'
  createdAt: DateTime
  createdBy: string?
}
```

### Question (질문)

```typescript
{
    id: string;
    step: number; // 단계 번호
    title: string; // 질문 제목
    description: string // 설명
        ? minLength
        : number; // 최소 글자 수
    order: number; // 순서
    isRequired: boolean; // 필수 여부
    createdAt: DateTime;
    updatedAt: DateTime;
}
```

### FormSubmission (제출)

```typescript
{
  id: string
  submittedBy: string?
  responses: string     // JSON
  completedAt: DateTime
  ipAddress: string?
}
```

---

## 🔄 사용 흐름

### 최고 관리자 워크플로우

```
1. 로그인 (admin@example.com)
   ↓
2. 최고 관리자 페이지 진입
   ↓
3-A. [사용자 관리]     3-B. [질문 관리]
   ↓                      ↓
4-A. 관리자 계정 생성    4-B. 질문 추가/수정
   ↓                      ↓
5-A. 계정 정보 전달      5-B. 양식 업데이트 완료
```

### 일반 사용자 워크플로우

```
1. 메인 페이지 접속
   ↓
2. "양식 작성하기" 클릭
   ↓
3. 단계 1 → 답변 입력 (최소 글자 수 충족)
   ↓
4. 단계 2 → 답변 입력
   ↓
5. 단계 3, 4, 5... (반복)
   ↓
6. 최종 제출
   ↓
7. 완료 페이지
```

---

## 📦 배포 가이드

### 개발 환경

```bash
npm run dev
# → http://localhost:3000
```

### 프로덕션 환경

```bash
# 1. 환경 변수 설정 (.env)
DATABASE_URL="postgresql://..."
NEXTAUTH_SECRET="강력한-비밀키"
NEXTAUTH_URL="https://yourdomain.com"

# 2. 데이터베이스 마이그레이션
npx prisma migrate deploy

# 3. 빌드
npm run build

# 4. 실행
npm start
```

### 권장 사항

-   ✅ PostgreSQL 또는 MySQL 사용
-   ✅ HTTPS 적용
-   ✅ 환경 변수 안전하게 관리
-   ✅ 정기적인 백업
-   ✅ 모니터링 설정

---

## 🔧 유지보수

### 질문 추가

1. 최고 관리자 로그인
2. "질문 관리" 탭
3. "+ 새 질문 추가" 클릭
4. 정보 입력 후 생성

### 관리자 추가

1. 최고 관리자 로그인
2. "사용자 관리" 탭
3. "+ 새 사용자 생성" 클릭
4. 계정 정보 입력
5. 생성된 정보를 관리자에게 전달

### 데이터베이스 백업

```bash
# SQLite (개발)
cp prisma/dev.db prisma/dev.db.backup

# PostgreSQL (프로덕션)
pg_dump database_name > backup.sql
```

---

## 📚 문서 가이드

| 문서                   | 용도      | 대상           |
| ---------------------- | --------- | -------------- |
| `README.md`            | 전체 개요 | 모든 사용자    |
| `시작하기.md`          | 빠른 시작 | 초보자 ⭐      |
| `SETUP.md`             | 상세 설치 | 개발자         |
| `FEATURES.md`          | 기능 설명 | 기획자, 개발자 |
| `PROJECT_STRUCTURE.md` | 구조 설명 | 개발자         |
| `TROUBLESHOOTING.md`   | 문제 해결 | 모든 사용자 🔧 |
| `프로젝트_요약.md`     | 빠른 참조 | 모든 사용자    |

---

## ⚠️ 중요 사항

### 보안

-   [ ] 프로덕션에서 기본 비밀번호 변경
-   [ ] NEXTAUTH_SECRET 변경
-   [ ] HTTPS 사용
-   [ ] 정기적인 보안 업데이트

### 백업

-   [ ] 데이터베이스 정기 백업
-   [ ] 환경 변수 백업
-   [ ] 코드 버전 관리 (Git)

### 모니터링

-   [ ] 에러 로깅
-   [ ] 성능 모니터링
-   [ ] 사용자 통계

---

## 🎯 다음 단계 (선택사항)

### 기능 확장

-   [ ] 이메일 알림
-   [ ] 파일 업로드
-   [ ] 엑셀 내보내기
-   [ ] 대시보드 차트
-   [ ] 검색 및 필터링
-   [ ] 사용자 응답 수정 기능

### 개선사항

-   [ ] 다국어 지원
-   [ ] 다크 모드
-   [ ] 모바일 앱
-   [ ] API 문서화 (Swagger)
-   [ ] 자동 테스트

---

## 📞 지원

### 문제 발생 시

1. `TROUBLESHOOTING.md` 확인
2. 브라우저 콘솔 확인 (F12)
3. 터미널 로그 확인
4. `npx prisma studio`로 DB 확인
5. 개발팀 문의

### 유용한 명령어

```bash
# 로그 확인
npm run dev

# DB 확인
npx prisma studio

# 완전 초기화
rm -rf node_modules .next prisma/dev.db
npm install
npx prisma generate
npx prisma db push
npm run seed
```

---

## ✅ 체크리스트

### 설치 완료 확인

-   [ ] `npm install` 성공
-   [ ] `npx prisma db push` 성공
-   [ ] `npm run seed` 성공
-   [ ] `npm run dev` 실행됨
-   [ ] http://localhost:3000 접속 가능
-   [ ] 기본 계정으로 로그인 성공
-   [ ] 양식 작성 테스트 완료
-   [ ] 질문 추가/수정 테스트 완료

---

## 🎉 완성!

이제 시스템을 사용할 준비가 되었습니다!

**시작하려면:**

1. `npm run dev` 실행
2. http://localhost:3000 접속
3. `시작하기.md` 참고

**즐거운 사용 되세요!** 🚀

---

_최종 업데이트: 2025-10-17_
_버전: 1.0.0_
